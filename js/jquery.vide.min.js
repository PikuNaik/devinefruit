(function(d,g,h,k){var f="vide",c={volume:1,playbackRate:1,muted:true,loop:true,autoplay:true,position:"50% 50%"};var i=/iPad|iPhone|iPod/i.test(k.userAgent),a=/Android/i.test(k.userAgent);d[f]={lookup:[]};var j=function(r){var p={},n,m;n=r.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",");m=n.split(",");var o,l,q;for(o=0,l=m.length;o<l;o++){m[o]=m[o].split(":");q=m[o][1];if(typeof q==="string"||q instanceof String){q=q==="true"||(q==="false"?false:q)}if(typeof q==="string"||q instanceof String){q=!isNaN(q)?+q:q}p[m[o][0]]=q}return p};var e=function(m){var l=m.split(" ");switch(l[0]){case"left":l[0]="0%";break;case"center":l[0]="50%";break;case"right":l[0]="100%";break;default:break}switch(l[1]){case"top":l[1]="0";break;case"middle":l[1]="50%";break;case"bottom":l[1]="100%";break;default:break}return{x:l[0],y:l[1]}};function b(n,o,m){this.element=d(n);this._defaults=c;this._name=f;var l=o.lastIndexOf(".");o=o.slice(0,l<0?o.length:l);this.settings=d.extend({},c,m);this.path=o;this.init()}b.prototype.init=function(){var m=this;this.wrapper=d("<div>");this.wrapper.css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":"center center"});d.get(this.path+".png").done(function(){m.wrapper.css("background-image","url("+m.path+".png)")});d.get(this.path+".jpg").done(function(){m.wrapper.css("background-image","url("+m.path+".jpg)")});if(this.element.css("position")==="static"){this.element.css("position","relative")}this.element.prepend(this.wrapper);if(!i&&!a){this.video=d("<video><source src='"+this.path+".mp4' type='video/mp4'><source src='"+this.path+".webm' type='video/webm'><source src='"+this.path+".ogv' type='video/ogg'></video>");this.video.css("visibility","hidden");this.video.prop({autoplay:this.settings.autoplay,loop:this.settings.loop,volume:this.settings.volume,muted:this.settings.muted,playbackRate:this.settings.playbackRate});this.wrapper.append(this.video);var l=e(this.settings.position);this.video.css({margin:"auto",position:"absolute","z-index":-1,top:l.y,left:l.x,"-webkit-transform":"translate(-"+l.x+", -"+l.y+")","-ms-transform":"translate(-"+l.x+", -"+l.y+")",transform:"translate(-"+l.x+", -"+l.y+")"});this.video.bind("loadedmetadata."+f,function(){m.video.css("visibility","visible");m.resize()});d(this.element).bind("resize."+f,function(){m.resize()})}};b.prototype.getVideoObject=function(){return this.video?this.video[0]:null};b.prototype.resize=function(){if(!this.video){return}var m=this.video[0].videoHeight,o=this.video[0].videoWidth;var n=this.wrapper.height(),l=this.wrapper.width();if(l/o>n/m){this.video.css({width:l+2,height:"auto"})}else{this.video.css({width:"auto",height:n+2})}};b.prototype.destroy=function(){this.element.unbind(f);this.video.unbind(f);delete d[f].lookup[this.index];this.element.removeData(f);this.wrapper.remove()};d.fn[f]=function(n,m){var l;this.each(function(){l=d.data(this,f);if(l){l.destroy()}l=new b(this,n,m);l.index=d[f].lookup.push(l)-1;d.data(this,f,l)});return this};d(h).ready(function(){d(g).bind("resize."+f,function(){for(var m=d[f].lookup.length,l,n=0;n<m;n++){l=d[f].lookup[n];if(l){l.resize()}}});d(h).find("[data-"+f+"-bg]").each(function(o,n){var l=d(n),m=l.data(f+"-options"),p=l.data(f+"-bg");if(!m){m={}}else{m=j(m)}l[f](p,m)})})})(jQuery||Zepto,window,document,navigator);